# 图词（VisionLex）测试清单

## 功能测试

### 图片上传功能

- [ ] 点击上传图片按钮，能正确选择文件
- [ ] 拖拽图片到上传区域，能正确上传
- [ ] 上传不支持的格式（如 PDF），显示错误提示
- [ ] 上传超大图片（>10MB），显示大小限制提示
- [ ] 上传后图片能正确预览
- [ ] 图片自动压缩功能正常工作

### AI 分析功能

- [ ] 上传图片后，AI 分析正常启动
- [ ] 显示加载动画和提示信息
- [ ] AI 分析成功，返回单词、例句、解释
- [ ] 分析失败时，显示友好的错误提示
- [ ] 网络错误时，显示网络错误提示
- [ ] API Key 错误时，显示配置错误提示

### 音频播放功能

- [ ] 分析完成后，音频自动生成
- [ ] 点击播放按钮，能正常播放音频
- [ ] 播放时显示播放状态
- [ ] 音频播放完成，状态正确更新
- [ ] 音频生成失败时，显示错误提示

### 单词详情功能

- [ ] "Talk about it" 按钮能展开/收起详情
- [ ] 详情面板显示图片预览
- [ ] 详情面板显示单词解释（逐行）
- [ ] 详情面板显示回复内容
- [ ] 详情面板可滚动查看

### 收藏功能

- [ ] 点击收藏按钮，单词添加到收藏
- [ ] 已收藏的单词显示已收藏状态
- [ ] 点击已收藏按钮，取消收藏
- [ ] 收藏列表能正确显示所有收藏的单词
- [ ] 收藏列表中的删除按钮能正常工作

### 历史记录功能

- [ ] 每次学习后，自动保存到历史记录
- [ ] 历史记录面板能正确显示学习记录
- [ ] 点击历史记录项，能重新加载该单词
- [ ] 删除单条历史记录功能正常
- [ ] 清空所有历史记录功能正常
- [ ] 历史记录统计（总数、今日）显示正确

## UI/UX 测试

### 响应式设计

- [ ] 桌面端（>1024px）布局正常
- [ ] 平板端（768px-1024px）布局正常
- [ ] 移动端（<768px）布局正常
- [ ] 移动端底部抽屉正常显示和收起
- [ ] 移动端历史面板位置正确

### 动画效果

- [ ] 页面加载有淡入动画
- [ ] 详情面板展开/收起有动画
- [ ] Toast 提示有滑入动画
- [ ] 按钮 hover 效果正常
- [ ] 加载动画流畅无卡顿

### 主题切换

- [ ] 亮色主题显示正常
- [ ] 暗色主题显示正常
- [ ] 主题切换后样式正确更新
- [ ] 主题偏好正确保存到本地

### 交互体验

- [ ] 所有按钮有明确的视觉反馈
- [ ] 加载状态清晰可见
- [ ] 错误提示友好易懂
- [ ] 成功提示及时显示

## 兼容性测试

### 浏览器兼容性

- [ ] Chrome（最新版本）
- [ ] Firefox（最新版本）
- [ ] Safari（最新版本）
- [ ] Edge（最新版本）
- [ ] 移动端 Safari（iOS）
- [ ] 移动端 Chrome（Android）

### 功能兼容性

- [ ] FileReader API 正常工作
- [ ] Audio API 正常工作
- [ ] LocalStorage 正常工作
- [ ] Fetch API 正常工作

## 性能测试

### 加载性能

- [ ] 首屏加载时间 < 3秒
- [ ] 图片压缩后大小合理
- [ ] 无不必要的重复渲染
- [ ] 组件懒加载正常工作

### 运行时性能

- [ ] 图片上传响应迅速
- [ ] AI 分析请求及时发送
- [ ] 音频播放无延迟
- [ ] 页面滚动流畅
- [ ] 无内存泄漏

### Lighthouse 评分

- [ ] Performance >= 90
- [ ] Accessibility >= 90
- [ ] Best Practices >= 90
- [ ] SEO >= 80

## 错误处理测试

### 网络错误

- [ ] 网络断开时，显示友好提示
- [ ] API 请求超时，显示超时提示
- [ ] 服务器错误（5xx），显示错误提示

### 数据错误

- [ ] API 返回非 JSON 数据，正确处理
- [ ] API 返回格式错误，显示错误提示
- [ ] LocalStorage 已满，显示存储限制提示

### 边界情况

- [ ] 上传空文件，显示错误提示
- [ ] 上传损坏的图片，显示错误提示
- [ ] 快速连续上传，正确处理
- [ ] 历史记录达到上限，正确处理

## 安全性测试

### 数据安全

- [ ] API Key 不出现在前端代码中
- [ ] 环境变量正确配置
- [ ] 本地存储数据正确加密（如需要）

### XSS 防护

- [ ] 用户输入正确转义
- [ ] 不执行用户输入的代码
- [ ] 图片路径安全验证

## 可访问性测试

### 键盘导航

- [ ] 所有功能可通过键盘操作
- [ ] Tab 键顺序合理
- [ ] Enter 键能触发按钮
- [ ] Esc 键能关闭详情面板

### 屏幕阅读器

- [ ] ARIA 标签正确设置
- [ ] 图片有 alt 属性
- [ ] 按钮有 aria-label
- [ ] 语义化 HTML 结构

### 视觉可访问性

- [ ] 颜色对比度符合 WCAG 标准
- [ ] 文字大小可读
- [ ] 焦点指示器清晰可见

## 测试环境

### 开发环境

```bash
npm run dev
```

- 环境变量已配置
- 热更新正常工作
- 控制台无错误

### 生产环境

```bash
npm run build
npm run preview
```

- 构建无错误
- 生产版本正常运行
- 无未压缩的资源

## 测试记录

### 测试日期

- 日期：___________
- 测试人员：___________

### 测试结果

- 通过项：___________
- 失败项：___________
- 待修复项：___________

### 备注

___________
